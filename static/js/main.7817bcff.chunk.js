(this["webpackJsonpalgolia-spike"]=this["webpackJsonpalgolia-spike"]||[]).push([[0],{29:function(e,n,t){"use strict";t.r(n);var i,c,a=t(1),r=t.n(a),o=t(14),l=t.n(o),s=t(2),u=t.n(s),d=t(4),j=t(3),b=t(12),p=t(15),h=t.n(p),f=function(){var e=Object(d.a)(u.a.mark((function e(n,t,i,c,a,r){var o,l,s,d,p,f,v,x,O,m,g,y,w;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3===(o=(localStorage.getItem("algolia")||"").split(",")).length){e.next=3;break}return e.abrupt("return");case 3:if(l=Object(j.a)(o,3),s=l[0],d=l[1],p=l[2],console.log(s,d,p),s&&d&&p){e.next=7;break}return e.abrupt("return");case 7:return f=h()(s,d).initIndex(p),e.t0=console,e.next=11,f.getSettings();case 11:return e.t1=e.sent,e.t0.log.call(e.t0,"Settings",e.t1),e.prev=13,x=null!==(v=null===a||void 0===a?void 0:a.split(", ").map((function(e){return"topic.name:'".concat(e,"'}")})))&&void 0!==v?v:[],O=t+(r.length>1?' "'+r+'"':""),m=t.split(" ").map((function(e){return e.trim()})).filter((function(e){return!e.match(/^[A-Z].*/)})),console.log("optionalWords",m),g=""!==i?["section:".concat(i)]:[],y=n?"NOT objectID:".concat(n):void 0,w=[g,y].filter(Boolean).join(" AND "),console.log("filters",w),e.next=24,f.search(O,{hitsPerPage:9,ignorePlurals:!0,removeStopWords:!0,optionalWords:[].concat(Object(b.a)(m),[r]),filters:y,optionalFilters:["label:".concat(c)].concat(g,Object(b.a)(x))});case 24:return e.abrupt("return",e.sent);case 27:e.prev=27,e.t2=e.catch(13),console.error(e.t2);case 30:case"end":return e.stop()}}),e,null,[[13,27]])})));return function(n,t,i,c,a,r){return e.apply(this,arguments)}}(),v=t(16),x=t.n(v),O=t(9),m=t(10),g=m.a.div(i||(i=Object(O.a)(["\n  font-family: Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\n  display: flex;\n  flex-direction: column;\n  font-size: 12px;\n\n  .form {\n    display: flex;\n    flex-direction: column;\n    width: 600px;\n\n    > div {\n      display: flex;\n      justify-content: space-between;\n      margin: 2px;\n      span {\n        font-weight: bold;\n      }\n    }\n    input {\n      width: 500px;\n    }\n    .buttons {\n      display: flex;\n      justify-content: flex-end;\n      button {\n        margin: 5px;\n      }\n    }\n  }\n"]))),y=m.a.div(c||(c=Object(O.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  .article {\n    border: 1px black solid;\n    padding: 10px;\n    margin: 10px;\n    width: 320px;\n    height: 360px;\n    overflow: scroll;\n    .headline {\n      font-size: 16px;\n      a,\n      a:visited {\n        color: inherit;\n        text-decoration: none;\n      }\n    }\n    .section {\n      color: #500;\n    }\n    .topics {\n      color: #050;\n    }\n    .labels {\n      color: #540;\n    }\n    .keywords {\n      color: #005;\n    }\n    .byline {\n      color: #055;\n    }\n    .image {\n      justify-content: center;\n      display: flex;\n      img {\n        width: 300px;\n      }\n    }\n  }\n"]))),w=t(0),k=function(e){return e.map((function(e){return e.children.map((function(e){return e.attributes.value})).join(" ")})).join(" ")},S=function(){var e,n=Object(a.useState)(localStorage.getItem("algolia")||""),t=Object(j.a)(n,2),i=t[0],c=t[1],r=Object(a.useState)("If this was goodbye, Harry Kane went with a whimper"),o=Object(j.a)(r,2),l=o[0],s=o[1],b=Object(a.useState)("sport"),p=Object(j.a)(b,2),h=p[0],v=p[1],O=Object(a.useState)("Premier League"),m=Object(j.a)(O,2),S=m[0],N=m[1],C=Object(a.useState)("Premier League, Football"),L=Object(j.a)(C,2),A=L[0],I=L[1],P=Object(a.useState)("Alyson Rudd"),T=Object(j.a)(P,2),B=T[0],H=T[1],D=Object(a.useState)(),K=Object(j.a)(D,2),R=K[0],W=K[1],_=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=W,e.next=3,f("",l,h,S,A,B);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f("",l,h,S,A,B).then(W)}),[]);var z=function(){var e=Object(d.a)(u.a.mark((function e(n){var t,i,c,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,i=n.headline,c=n.label,a=n.section,r=n.topics,o=n.byline,s(null!==i&&void 0!==i?i:""),v(null!==a&&void 0!==a?a:""),N(null!==c&&void 0!==c?c:""),I(null!==r&&void 0!==r?r:""),H(null!==o&&void 0!==o?o:""),e.t0=W,e.next=9,f(t,i,a,c,r,o);case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(""),v(""),N(""),I(""),H("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(R),Object(w.jsxs)(g,{className:"App",children:[Object(w.jsxs)("div",{className:"form",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"Headline"}),Object(w.jsx)("input",{value:l,onChange:function(e){return s(e.target.value)}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"Section"}),Object(w.jsx)("input",{value:h,onChange:function(e){return v(e.target.value)}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"Label"}),Object(w.jsx)("input",{value:S,onChange:function(e){return N(e.target.value)}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"Topics"}),Object(w.jsx)("input",{value:A,onChange:function(e){return I(e.target.value)}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"Byline"}),Object(w.jsx)("input",{value:B,onChange:function(e){return H(e.target.value)}})]}),Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)("button",{onClick:_,children:"Search"}),Object(w.jsx)("button",{onClick:E,children:"Clear"})]})]}),Object(w.jsx)(y,{children:null===R||void 0===R||null===(e=R.hits)||void 0===e?void 0:e.map((function(e){var n,t=e.id,i=e.headline,c=e.publishedTime,a=e.label,r=e.section,o=e.leadAsset,l=e.topics,s=e.keywords,u=e.byline,d=e.content,j=e.url;return Object(w.jsxs)("div",{className:"article",onClick:function(){return z({id:t,headline:i,label:a,section:r,topics:null===l||void 0===l?void 0:l.map((function(e){return e.name})).join(", "),byline:k(u)})},children:[Object(w.jsx)("div",{className:"headline",onClick:function(e){e.stopPropagation()},children:Object(w.jsx)("a",{href:j,target:"_TAB",children:i})}),Object(w.jsx)("div",{className:"publishedTime",children:x()(c).format("LLLL")}),Object(w.jsx)("div",{className:"byline",children:k(u)}),Object(w.jsxs)("div",{className:"section",children:["Section:",r]}),Object(w.jsx)("div",{className:"image",children:Object(w.jsx)("img",{src:null===o||void 0===o||null===(n=o.crop)||void 0===n?void 0:n.url})}),Object(w.jsxs)("div",{className:"label",children:["Label:",a]}),Object(w.jsxs)("div",{className:"topics",children:["topics:",null===l||void 0===l?void 0:l.map((function(e){return e.name})).join(", ")]}),Object(w.jsxs)("div",{className:"keywords",children:["Keywords:",s.join(", ")]}),Object(w.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:d}})]},t)}))}),Object(w.jsx)("div",{className:"form",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:"AlgoliaKeys"}),Object(w.jsx)("input",{value:i,onChange:function(e){localStorage.setItem("algolia",e.target.value),c(e.target.value)}})]})})]})};l.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(S,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.7817bcff.chunk.js.map